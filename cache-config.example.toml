# NNTP Caching Proxy Configuration

# Backend NNTP servers
[[servers]]
host = "news.example.com"
port = 119
name = "Example News Server"
# username = "your_username"
# password = "your_password"
max_connections = 10
# Connection health check interval (omit to disable, recommended: 60-120 seconds)
# Sends DATE command to detect stale connections before reuse
connection_keepalive = 60
# TLS/SSL configuration
use_tls = false
tls_verify_cert = true
# tls_cert_path = "/path/to/ca-cert.pem"

# Cache configuration
[cache]
# Maximum cache size in bytes (64 MB default)
# For availability-only mode: ~1000 bytes per article
# For full caching: depends on article sizes (avg ~700 KB)
max_capacity = 67108864
# Time-to-live for cached articles in seconds (1 hour)
ttl_secs = 3600

# Health check configuration
[health_check]
# Interval between health checks in seconds
interval_secs = 30
# Timeout for each health check in seconds
timeout_secs = 5
# Number of consecutive failures before marking unhealthy
unhealthy_threshold = 3
